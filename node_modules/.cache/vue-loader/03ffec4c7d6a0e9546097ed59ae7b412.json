{"remainingRequest":"F:\\HBuilderX\\projects\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX\\projects\\test\\src\\views\\Sign.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX\\projects\\test\\src\\views\\Sign.vue","mtime":1635868689326},{"path":"F:\\HBuilderX\\projects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634817181958},{"path":"F:\\HBuilderX\\projects\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":1634817211862},{"path":"F:\\HBuilderX\\projects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634817181958},{"path":"F:\\HBuilderX\\projects\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":1634817206149}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport TopNav from '../components/TopNav.vue'\nexport default {\r\n\tname: 'Sign',\r\n\tdata() {\r\n\t\tconst usernameValidator = (rule, value, callback) => {\r\n\t\t\tif(value === '') {\r\n\t\t\t\tcallback(new Error('用户名未填写'))\r\n\t\t\t} else {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst passwordValidator = (rule, value, callback) => {\r\n\t\t\tif(value === '') {\r\n\t\t\t\tcallback(new Error('密码未填写'))\r\n\t\t\t} else {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst rePasswordValidator = (rule, value, callback) => {\r\n\t\t\tif(value === '') {\r\n\t\t\t\tcallback(new Error('再次确定密码未填写'))\r\n\t\t\t} else if (value !== this.signForm.password) {\r\n\t\t\t\tcallback(new Error('两次输入密码不一致!'))\r\n\t\t\t} else {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst telphoneValidator = (rule, value, callback) => {\r\n\t\t\tif (!Number.isInteger(value)) {\r\n\t\t\t\tcallback(new Error('请输入数字值'));\r\n\t\t\t} else{\r\n\t\t\t\tif(value === '') {\r\n\t\t\t\t\tcallback(new Error('电话未填写'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\trules: {\r\n\t\t\t\tusername: [\r\n\t\t\t\t\t{validator: usernameValidator, trigger: 'blur'}\r\n\t\t\t\t],\r\n\t\t\t\tpassword: [\r\n\t\t\t\t\t{validator: passwordValidator, trigger: 'blur'}\r\n\t\t\t\t],\r\n\t\t\t\trePassword: [\r\n\t\t\t\t\t{validator: rePasswordValidator, trigger: 'blur'}\r\n\t\t\t\t],\r\n\t\t\t\ttelphone: [\r\n\t\t\t\t\t{validator: telphoneValidator,min:6,max:11,trigger: 'blur'}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tsignForm: {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\ttelphone: ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\t  TopNav\r\n\t},\r\n\tmethods: {\r\n\t\tsubmitSignForm() {\r\n\t\t\tthis.$refs.loginForm.validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tconsole.log(this.signForm)\r\n\t\t\t\t\tthis.loading = true\r\n\t\t\t\t\tthis.$ajax('/api/sign', this.loginForm).then((resp) => {\r\n\t\t\t\t\tif (resp) {\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tconst tokenStr = resp.obj.tokenHead + resp.obj.token\r\n\t\t\t\t\t\twindow.sessionStorage.setItem('tokenStr', tokenStr)\r\n\t\t\t\t\t\tthis.$router.push('/')\r\n\t\t\t\t\t}\r\n\t\t\t\t})} else {\r\n\t\t\t\t\tthis.$message.error('请填写完整')\r\n\t\t\t\t\t// console.log('请填写完整')\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\n",{"version":3,"sources":["Sign.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Sign.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div id=\"signBox\">\r\n\t\t<TopNav title=\"注册\" :canBack='true'/>\r\n\t\t<img alt=\"Vue logo\" src=\"../assets/logo.png\">\r\n\t\t<el-form  label-position=\"left\" label-width=\"auto\"\r\n\t\t:rules=\"rules\" ref=\"signForm\" :model=\"signForm\">\r\n\t\t\t<el-form-item prop=\"username\" label=\"真实姓名\">\r\n\t\t\t\t<el-input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tauto-complete=\"false\"\r\n\t\t\t\tv-model=\"signForm.username\"\r\n\t\t\t\tplaceholder=\"真实姓名\">\r\n\t\t\t\t<template slot=\"prepend\">\r\n\t\t\t\t\t<i class=\"el-icon-user-solid\"></i>\r\n\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"password\" label=\"密码\">\r\n\t\t\t\t<el-input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tauto-complete=\"false\"\r\n\t\t\t\tv-model=\"signForm.password\"\r\n\t\t\t\tplaceholder=\"密码\">\r\n\t\t\t\t<template slot=\"prepend\">\r\n\t\t\t\t\t<i class=\"el-icon-lock\"></i>\r\n\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"rePassword\" label=\"确定密码\">\r\n\t\t\t\t<el-input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tauto-complete=\"false\"\r\n\t\t\t\tv-model=\"signForm.rePassword\"\r\n\t\t\t\tplaceholder=\"再次确定密码\">\r\n\t\t\t\t<template slot=\"prepend\">\r\n\t\t\t\t\t<i class=\"el-icon-unlock\"></i>\r\n\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"telphone\" label=\"电话\">\r\n\t\t\t\t<el-input\r\n\t\t\t\ttype=\"input\"\r\n\t\t\t\tauto-complete=\"false\"\r\n\t\t\t\tv-model=\"signForm.telphone\"\r\n\t\t\t\tplaceholder=\"电话\">\r\n\t\t\t\t<template slot=\"prepend\">\r\n\t\t\t\t\t<i class=\"el-icon-phone\"></i>\r\n\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-link href=\"/\" type=\"info\" :underline=\"false\">登陆</el-link>\r\n\t\t\t<el-button type=\"primary\" style=\"width:100%\" \r\n\t\t\t@click=\"submitSignForm()\">注册</el-button>\r\n\t\t</el-form>\r\n\t</div>\n</template>\n\n<script>\r\nimport TopNav from '../components/TopNav.vue'\nexport default {\r\n\tname: 'Sign',\r\n\tdata() {\r\n\t\tconst usernameValidator = (rule, value, callback) => {\r\n\t\t\tif(value === '') {\r\n\t\t\t\tcallback(new Error('用户名未填写'))\r\n\t\t\t} else {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst passwordValidator = (rule, value, callback) => {\r\n\t\t\tif(value === '') {\r\n\t\t\t\tcallback(new Error('密码未填写'))\r\n\t\t\t} else {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst rePasswordValidator = (rule, value, callback) => {\r\n\t\t\tif(value === '') {\r\n\t\t\t\tcallback(new Error('再次确定密码未填写'))\r\n\t\t\t} else if (value !== this.signForm.password) {\r\n\t\t\t\tcallback(new Error('两次输入密码不一致!'))\r\n\t\t\t} else {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst telphoneValidator = (rule, value, callback) => {\r\n\t\t\tif (!Number.isInteger(value)) {\r\n\t\t\t\tcallback(new Error('请输入数字值'));\r\n\t\t\t} else{\r\n\t\t\t\tif(value === '') {\r\n\t\t\t\t\tcallback(new Error('电话未填写'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\trules: {\r\n\t\t\t\tusername: [\r\n\t\t\t\t\t{validator: usernameValidator, trigger: 'blur'}\r\n\t\t\t\t],\r\n\t\t\t\tpassword: [\r\n\t\t\t\t\t{validator: passwordValidator, trigger: 'blur'}\r\n\t\t\t\t],\r\n\t\t\t\trePassword: [\r\n\t\t\t\t\t{validator: rePasswordValidator, trigger: 'blur'}\r\n\t\t\t\t],\r\n\t\t\t\ttelphone: [\r\n\t\t\t\t\t{validator: telphoneValidator,min:6,max:11,trigger: 'blur'}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tsignForm: {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\ttelphone: ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\t  TopNav\r\n\t},\r\n\tmethods: {\r\n\t\tsubmitSignForm() {\r\n\t\t\tthis.$refs.loginForm.validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tconsole.log(this.signForm)\r\n\t\t\t\t\tthis.loading = true\r\n\t\t\t\t\tthis.$ajax('/api/sign', this.loginForm).then((resp) => {\r\n\t\t\t\t\tif (resp) {\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tconst tokenStr = resp.obj.tokenHead + resp.obj.token\r\n\t\t\t\t\t\twindow.sessionStorage.setItem('tokenStr', tokenStr)\r\n\t\t\t\t\t\tthis.$router.push('/')\r\n\t\t\t\t\t}\r\n\t\t\t\t})} else {\r\n\t\t\t\t\tthis.$message.error('请填写完整')\r\n\t\t\t\t\t// console.log('请填写完整')\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\n</script>\n\n<style>\r\n\t#signBox{\r\n\t\ttext-align: center;\r\n\t}\n</style>\n"]}]}